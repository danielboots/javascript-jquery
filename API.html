<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Javascript Notes</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <h1>API</h1>
    <p>Notes</p>

    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/0qWRYFP7wb8"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>plugs and sockets</h2>

    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/PrZnTc4derE"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>whats an API?</h2>
    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/JFqF4D_dQyE"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>The API economy</h2>

    <p>
      What do Twitter, Airbnb, Facebook, PayPal and stripe share in common. Well
      all of them drive their core operations on internet platforms and have
      massively high valuations with very few actual physical assets. Also these
      companies excel at using api's to drive competitive advantage. API's are a
      technology that allows firms to interact and share information with other
      firms at an unprecedented scale taking advantage of the far-reaching
      progress in digitalization in the world and also the rising influence of
      software in our day to day lives the opportunities for competitive
      advantage are now becoming available to all companies. Every organization
      can use customer interaction points to collect information using software
      systems. Now many organizations already do this but they do not recognize
      its full potential for example they frequently choose to use that
      information purely as an internal asset and seldom allow third parties to
      build complimentary services on top of their data.The adoption of api's is
      changing and that the trend of using data only internally has changed to
      opening new avenues for building advantage and pursuing growth. The
      arrival of API management in companies such as apigee has hastened this
      adoption. API represent the future of consumer and community engagement
      and its implications are much broader than the traditional web-based
      business models.There are more than 15,000 api is offered by firms today
      according to programmableweb.com currently salesforce.com generates 50% of
      its revenue through api's, expedia.com generates 90% and ebay 60%
      salesforce.com has a marketplace called app exchange for apps created by
      its partners that work on its platform they now number more than 300 and
      growing Expedia's api's allow people using third-party websites they allow
      them to tap into its functionality in order to book flights, cars and
      hotels and API's allow eBay to list its auctions on other websites to get
      better information about sold items, to collect feedback on transactions
      and lists new items for sale. All of which give additional exposure to
      eBay items and increase revenue so these trends are only going to become
      more widespread. Early adopters will be able to significantly expand the
      revenues by discovering and joining force with other complementers. Take
      Twitter as an example. In its early days its user interface was not good
      enough for regular users. As a result it floundered for a while then
      TweetDeck a third-party developer built a better user interface on top of
      the Twitter engine this ultimately led to an explosion in Twitter usage
      and inevitably Twitter then acquired TweetDeck in 2011. Google didn't
      consider Google Maps to be a core asset until a third-party application
      allowed Google Maps to show real estate locations on a map this caused the
      popularity to skyrocket Google now is expanded API access to Google Maps
      and several of its other products api's allows firms to expand into
      markets they may never have previously considered. Take the case of IBM's
      Watson a cognitive computing technology that allows humans to make sense
      of large volumes of data. In the old days IBM would have opted to keep all
      that information in-house but recognizing that the world had changed IBM
      opened access to Watson through api's to the entire world. Now IBM expects
      this move will allow it to attract an extraordinary range of ideas and
      inputs from all kinds of third-party firms and develop an unprecedented
      range of new services. So more and more company products are now almost
      solely based and comprised of other people's api's. Uber is a perfect
      example. It didn't have to build its own mapping, payment, or
      communication services Instead Uber is a composite of various
      applications; Google Maps, Braintree for payment, Twilio for SMS, Oracle
      and others. Uber was quickly able to connect all of these systems using a
      little piece of codes called api's and in effect build a brand new product
      almost entirely consisting of other people's products and a little clever
      thinking
    </p>

    <h2>why build an API</h2>
    <p>
      So why might you need to build an API Well sometimes savvy customers or
      partners ask if you have an API to help make a technical integration with
      your software easier or even possible. Organizations like Silver pop an
      email marketing company found that once the largest companies in the world
      started using its product these companies wanted tight integration of
      email marketing capabilities and other marketing automation applications.
      The obvious solution for this integration was an API. Getting images for
      example a photo Licensing firm had customers who wanted to bypass the
      firm's website and integrate photos for licensing in their publishing and
      production applications the obvious solution there again was also an API.
      Some companies such as stripe and PayPal only offer API access as a means
      of using their software other than accessing their account administration
      website. This is because the product is designed only to be accessed from
      other applications. But not all api's are used by external customers.
      Large companies with many teams and divisions now use API is to
      communicate between and within their internal systems. As far back as 2002
      Jeff Bezos the founder of Amazon issued the following mandate. All teams
      will henceforth expose their data and functionality to service interfaces.
      Teams must communicate with each other through these interfaces. There
      will be no other form of inter process communication allowed no direct
      linking no direct reads of another team's data store no shared memory
      model no backdoors whatsoever the only communication allowed is via
      service interface calls over the network. It doesn't matter what
      technology they use (great for developers) this is really important. A
      company can buy or team up with another company's product whose tech stack
      is completely different . No compatibility issues like in the old days no
      massive internal dev language retraining api's allow it to neatly
      integrate with the existing composite ecosystem no more rigid monolithic
      systems that don't talk to anyone else. Anyway, so he also said that all
      service interfaces without exception must be designed from the ground up
      to be externalisable that is to say the team must plan and design to be
      able to expose the interface to developers in the outside world no
      exception the mandate goes with anybody who doesn't do this will be fired
      thank you and have a nice day so Bezos defined only the outcome of
      department systems and their deployments these platforms became a network
      of business units that were integrated to the flow of data and information
      the API model works for all stakeholders in that organization from a
      software architecture perspective these loosely coupled systems data and
      software became reusable across apps and departments from business
      perspective Amazon gained the agility to launch into new business domains
      at will because new business units could be quickly and easily integrated
      with the existing ecosystem so what are the reasons are there to build an
      API. Well you want to drive innovation there was a time when api's were
      really the sole concern of the IT departments because they were primarily
      viewed as standard interfaces to interact with hardware and software. This
      is no longer the case. Modern api offered a simplified interface to access
      valuable business data and functionality to the internet standards that
      developers understand. As a result new ways of combining and reusing data
      and services can produce innovative and are unexpected lines of business.
      You also may need to build a new API because you want more flexibility in
      providing content for example so the ultimate reason for offering an API
      is to provide content or services in a flexible way that's what websites
      were and still are. When companies first looked at new ways to distribute
      their content beyond the website many turned to method like RSS feeds but
      neither websites or RSS feeds are enough to handle the flexibility that
      most companies demand these days. API provide the most flexibility for
      providing content when and how you want to under your terms and with
      better control when meeting your users needs. You also might have data to
      make available through open data strategies government agencies such as
      the Central Statistics Office and data gov.ie in Ireland and their
      international counterparts they all collect massive amounts of freely
      available data that it may not have the time and the resources to use
      extensively these datasets include everything from city bike usage the
      statistical health of the economy to a countrywide list of monuments for
      example most of this data is available to api's your organization may have
      something similar to offer to society but the same model works inside
      companies when a department has an important database that it does not
      have time to fully use and explore a private API can allow other database
      to leverage that data. What also what if your competitors have an API.
      Well when one company in an industry publishes an API it's quite common
      for the rest of the industry to follow suit. We saw this when discussing
      our insurance quote earlier but in this case all the end users in a market
      are in effect requesting an API I've been in the industry sectors like
      retail media social network they're all effectively in an arms race with
      respect to their api's they're constantly trying to improve them and outdo
      the competition. You also may want to let potential partners access your
      data so potential partners might want to test the waters in terms what
      services you offer before formalizing your relationships an API allows
      them to experiment with your offering and determine how much mutual
      benefit there is to be had from the pairing. What if you want to scale
      integration with customers and partners . Again having an API provides a
      simpler and more flexible way to integrate with high-volume customers and
      partners. Customers who have a choice of vendors are attracted to
      companies that are set up to succeed quickly .An API sends the message
      that you're in such a position
    </p>
    <h2>api types</h2>
    <p>
      Okay, so there's three types of APIs. The first one is a private or an
      internal API that runs on an intranet within an organization so companies
      use private API's to make internal functions of a business run more
      smoothly and accelerate innovation. In the Amazon model, humans made their
      technology selections as close to the user as possible with the mandate
      that those systems the data and the workflow are accessible to all other
      departments via a well-documented API. The second type of API is a partner
      API use on an extranet so many companies will offer partner API's that are
      open beyond the organization. The services are not entirely exposed
      publicly and they do retain some security and data control but
      business-to-business relationships can produce large revenue and mutually
      beneficial data exchanges by spreading assets between each other. So this
      can be done without too much strain on internal resources. So finally
      we've got a public API that runs on the intranet so companies use public
      API to selectively expose the very same services, content or data that a
      company uses itself this is motivated by an understanding that the
      platform can ultimately offer something of value to those outside the
      organization. A mark of a successful public API is that it's an ability to
      inspire and cultivate apps from new found developer communities that
      expand the brand the distribution and the revenue opportunities. The
      faster the data can be accessed and processed the faster its value can be
      extracted and gained
    </p>

    <h2>API Business Models</h2>

    <p>
      okay so there's a number of common business models for exposing an API
      which model is appropriate for a given API depends on the goals of the a
      API provider which may include monetization, brand awareness, business
      relationships and making available data that's beneficial to society as a
      whole these models include but are not limited to free API's, the
      developer pays API, developer gets paid and indirect. Okay so let's have a
      look at free first so free API's are available for consumption at no
      charge such as the API's for popular social networks like Facebook. Free
      API's can drive adoption of other API's and brand loyalty as well as
      allowing the API provider to enter in new channels so while there's
      usually no direct business benefit gained from exposing free API's the
      majority of examples do have an indirect business benefit so, for example,
      Google exposed their fonts API to developers they also have their
      analytics to check productivity and web and they also make their translate
      and geocoding apps available for free Facebook exposes the API's there are
      hundreds of government API's across the world that are available to help
      society as a whole Another model is the developer pays so in this model
      developers pay for usage to drive their own business ventures. It can be
      seen as a cost of doing business This can be broken down into additional
      subcategories actually so what are they so one subcategory is pay as you
      go. Pricing is determined by metered usage and in this model, for example,
      a cloud computing platforms usage price could be determined by the number
      of servers and services used on an hourly basis Amazon's message is pay
      only for what you use there's no minimum fee if you use to the Amazon
      cloud computing so tiered developers sign up to and pay for a particular
      usage tier based on the number of API calls over a fixed period while the
      cost increases per tier the cost of the API call usually drops so the more
      volume we use the cheaper it gets so this works similar to how mobile for
      invoice plans work so where the level of phone calls determine the call
      per charge MailChimp for example the popular mail also use this model.
      Useage based is another model where the pricing is determined by consuming
      units of measure such as API calls, for example, a cloud storage company
      could charge per gigabyte of usage per month another model is a
      transaction fee where the pricing is dependent on the value of the
      transaction for example electronic money transfer company could charge a
      percentage of the transaction as their fee for providing payment services
      stripe uses this you also, have freemium where the API offers the basics
      for free with charges for the extra stuff. There has generally what's
      called rate limiting twitter does it Google Maps do it and many other more
      API's do it as well so in this model companies offer developers some of
      their API capabilities for free then charge for additional functionality
      so for example Twitter allows a certain number of calls to its API before
      the service is locked for 15 minutes this access is useful for development
      purposes and allows you to create a proof of concept before maybe
      upgrading to paid access so what else we got and we also have developer
      gets paid model now in this model it has its origins in e-commerce and
      advertising so the developer is paid per click for example comparison
      sites make revenue every time they redirect to your web site eBay does it
      Amazon does evolve very successfully the third party's so in this model
      the developer receives payment for extending the business model of others
      there are two major categories for this model so one is revenue sharing
      where developers receives a small percentage of the total revenue based on
      a business agreement with the provider, for example, a mobile application
      store could charge developers a yearly subscription while the developer
      receives a percentage of sales revenue for their applications another
      approach is affiliate where developers receive scaling revenue either
      percentage based fixed price or tiered scale based on extending partner
      platforms for example a shopping price comparison service could pay
      developers a small portion of revenue based on the volume of revenue their
      API generates
    </p>

    <h2>competitive Advantages</h2>
    <p>
      So what are the competitive advantages of using api's. Well api's have
      been around for years but until recently have remained a niche interest to
      coders smart businesses have worked out that api's which used to be
      technical artifacts are now hugely valuable strategic business tools. Not
      only do they enable an organization to make its underlying data and
      functions available for general use within the enterprise but they can
      also open it to developers both internal and external. They can then
      harness this familiar web-based technology and build new and innovative
      applications. So every time a user interacts with api's from these
      invested companies the api's absorb useful information. For example Uber
      knows where its consumers are at any given time before and after a ride.
      It also knows where they live work or make social visits and can
      complement this knowledge with rich stocks of information on drivers and
      their availability ok based on information available on social networks
      like Facebook apps can now predict when and to whom a user is likely to
      get married Pandora can predict political affiliations based on music
      tastes and has indicated an interest in using this information it collects
      - customized ads Spotify is already doing this. These predictive powers
      can give companies a significant advantage in attracting advertisers and
      as these repositories grow over time so does their value and exclusivity
      making it hard for competitors to catch up. api's draw on and accumulate
      informational assets that can provide much more value than the physical
      assets in this digital world. Ok so let's look at the how do we sustain
      your competitive advantage well the front end of a well-made information
      collecting API is a UI that provides a platform to gain strength to
      network effects Facebook for example becomes more valuable to a user when
      he or she finds it more likely to connect with a friend on that platform.
      This in turn attracts more users and as a consequence allows it to expand
      its repositories of information. Dominant UIs and associated Network
      effects they have platforms sustained a sustained advantage by retaining
      users and collecting resources when from that information. You can use
      your API to expand your ecosystem and the scope of your platform. Uber
      uses the information that it collects in its taxi services to participate
      in the food delivery ecosystem through UberFRESH. Through api's uber has
      channelled its core skills in dispatch and spot pricing into a new
      ecosystem or an entirely different set of participants offer services such
      as the restaurant ratings as aggregate this means that users can recommend
      good restaurants around the world and locations that you regularly visit
      using their services this data is being gathered from your traveling
      habits
    </p>

    <h2>rest architecture</h2>

    <p>
      So let's take a look at rest architecture. An API is like the door to some
      service being offered and this door may or may not require a key to open
      once you've opened it you're passing your requests and if all is well you
      get a response from the service and off you go and use the data however it
      suits you there are conventions in place as to how that data passes in and
      out of the door the most common convention is called rest. REST stands for
      representational state transfer it's an architectural style based on the
      notions of state and how that state is represented. Just like we discussed
      earlier the representation of data can be in many formats. XML used to be
      the most widely used but Json is the dominant format used today. This is
      down to the fact that Json is easier to read and edit from a developer's
      perspective and also Json requires less characters than XML when
      formatting or representing the data less characters means less content to
      travel across the net so it gets there just a little bit faster. The rest
      architecture has six constraints when implementing so the first one is a
      uniform interface, the second one that is must be stateless, the third
      constraint is that it must have a client-server model, it should have the
      option to be cacheable, it can also have a layered system and optionally
      there can be what's called code on demand. We'll go into those in a moment
      so let's have a look at the first one Uniform Resource so in Uniform
      Resource the interactions between the web's components, that's that means
      the client and the services they depend on the uniformity of all these
      interfaces if any of the components move away from established standards
      then the whole communication of the web system breaks down all the
      communication should be uniform so everything is treated as a resource
      like we just discussed every piece of data available on the Internet has a
      format that could be described by a content type as a reminder JPEG for
      images, mpeg for videos, HTML, XML and text documents. These are all
      resources now each resource is identifiable by unique identifier. Since
      the internet contains so many different resources they all should be
      accessible via what are called URIs and they should be identified uniquely
      the URIs can be in a human-readable format despite the fact that their
      consumers are more likely to be coders rather than regular humans so what
      are we talking about here? Let's look at some identifiers. By the way you
      can see these in your browser's address bar nearly all the time. These
      human readable URIs expose different types of resources in a
      straightforward manner in our example we can infer that the resource types
      requested are images somebody is looking for summer vacation photos we can
      also see that people are looking for videos somebody's looking for winter
      vacation videos someone is also looking for JSON documents a balance sheet
      for example maybe in JSON format. Excel document . One resource is looking
      for an Excel and XML document that may be the balance sheet in an XML
      format so all of these use the standard http methods for interacting with
      resources so the HTTP protocol defines eight actions or things that must
      be done they're also known as verbs here are the four most important ones
      so I GET is used to request data. POST is used to create data. PUT is used
      to update data and a DELETE as you might imagine is used to delete data
      you might notice that these verbs look suspiciously like crud create read
      update and delete SQL actions that can be carried out in a relational
      database get behaves the same as a select statement post behaves the same
      as an insert. put is the equivalent of an update and delete because you
      might imagine it is the equivalent of a deletion in SQL resources can have
      multiple representations so a few a key feature of a resource is that
      there may have been represented in a different format from the one that
      isn't stored so it can be requested or posted in different representations
      so long as the specified format is supported by the service behind the API
      XML or JSON for example let's look at our example URIs again. You can see
      here that we can access our balance in XML or JSON depending on the client
      application as needs this can be very handy the more formats your API
      supports the more flexible it becomes to users of the API and it makes
      everyone a little bit happier. Now another constraint a rest constraint is
      statelessness so a restful service should not keep a client state on the
      server this restriction is called statelessness it's a responsibility of
      the client to pass its context or request details to the server the server
      can store this context to process the request further for example a
      session maintained by the server is identified by an identifier passed by
      the client you can see that in the example here we can see that so that
      here that some resource for a user identified by the number one is
      requested in the URI remember this is sent from the client the server
      knows nothing about the client other than where it lives and what it's
      requesting it looks at the value on the URI and if it matches any resource
      on the server. The server will then respond with whatever it has. We
      should also separate the representation representation from the resource
      itself now a resource is just a set of information it can have multiple
      representations it's up to the caller to specify the content-type header
      of the HTTP request and then it's up to the server application to handle
      the representation accordingly and return the HTTP status code to the
      client another constraint on rest architecture is that it must be a
      client-server model involved the client-server constraint requires that a
      service offers one or more resource and listen for requests on these
      resources a consumer or client of the service invokes a resource by
      sending a request message and the server either rejects the request or
      performs the requested task before sending some response back. The rest
      architecture also requires the possibility of caching. Caching is the
      process of locally saving frequently accessed items from a server this
      could help speed up perceived response times when accessing a webpage or
      other network resource for example when caching is enabled on a web page
      all the parts of the page including images are downloaded to your browser
      when the page is first downloaded the images are copied and saved locally
      to your machine so that when you next request the page your browser will
      fetch the images from your machine rather than downloading it again across
      the network from scratch it's much faster but caching may or may not
      always be desirable it's useful for resources that don't change too often
      but when a website's content changes continuously such as a news website
      caching would give you out-of-date content the same principle applies for
      API's and the rest architecture so response messages from the service to
      its consumers are labelled as either cacheable or non-cacheable this gives
      the option for the service the consumer or any middleware components to
      cache the response for reuse in later requests another constraint imposed
      on rest is that a layered system so the layered system constraint builds
      on the client-server to add middleware components to an architecture
      specifically the layered system requires that the middleware be inserted
      transparently so the interaction between a given service and its consumer
      is consistent a service does not need to be aware of nor care of its
      consumers further communicating with other services or even whether the
      consumer itself is a service that's providing a service to a client
      further down the line the last and optional constraint is called code on
      demand so this is intended to allow logic within clients such as web
      browsers to be updated independently from server-side logic code on-demand
      usually relies on the use of web-based technology such as web browser
      plugins or javascript the same option can be available to a service and
      its consumer so the service calls the shots and might force the client to
      download some additional say JavaScript code in order to provide
      encryption on the client for example most API's won't require this so it's
      optional also it forces the API to make assumptions which a client may or
      may not be able to adhere to so may or may not be useful to you at any
      given time
    </p>

    <h2>rest architecture</h2>
    <iframe
      width="560"
      height="315"
      src="https://www.youtube.com/embed/6sUbt-Qp6Pg"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>Uniform Resource Locator URL!!!</h2>

    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/K7bV5In1Mgs"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>cURL</h2>
    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/gosNX4VRX1I"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>links browser</h2>
    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/C3oFdJpVFeM"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>JavaScript Object Notation</h2>
    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/KKd0kD4RmKk"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>curl api</h2>
    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/MZU2Ec2eUMg"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>JSON python3 tool</h2>
    <p>
      how to retireve data using cURL Command line url with JSON format... so it
      looks nice
    </p>

    <pre>  | python3 -m json.tool</pre>

    <h2>XHR</h2>
    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/mq9buYAnJ74"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h3>Code notes</h3>
    <pre>
var xhr = new XMLHttpRequest();

xhr.open('GET', "https://ci-swapi.herokuapp.com/api/");
xhr.send();

xhr.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        document.getElementById("data").innerHTML = this.responseText;
    }
};


</pre
    >

    <a
      href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState"
      >MDN ready state docs for ref</a
    >

    <h2>A More In-Depth Analysis Of Xhr</h2>
    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/JcsbD1osnyY"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>JSON.Parse()</h2>
    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/J0rjwiaVe_U"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <pre> console.log(typeof(JSON.parse(this.responseText));</pre>

    <h2>getting functional</h2>
    <p>Allows to pass our data around to different functions</p>

    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/F1_Xi4-vLEA"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <h2>timeout</h2>
    <pre>setTimeout()</pre>
    <p>
      Allows us to tell our application to stop executing for a period of time
    </p>

    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/JnophjEgKB0"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <pre>
var xhr = new XMLHttpRequest();
var data;

xhr.open("GET", "https://ci-swapi.herokuapp.com/api/");
xhr.send();

xhr.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        data = JSON.parse(this.responseText);
    };
}

setTimeout(function() {
    console.log(data);
}, 500);
</pre
    >

    <p>set time out allows the status to get to 4 so it will log correctly.</p>

    <h2>Callbacks</h2>

    <p>
      Allows us to pass functions as arguments By passing a function to another
      function!
    </p>

    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/Mep02QSWOXw"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <p>
      A good thing to remember in JavaScript is that everything is made of
      objects. And a function is also an object. Because of this, it can be
      passed as a parameter, or argument, to another function. And at its
      simplest, that's what a callback is: a function that's passed as a
      parameter to another function and executed inside that function. Callbacks
      are used a lot in JavaScript, especially in jQuery, which we'll come onto
      later.
    </p>

    <pre>
function getData(cb) {
    var xhr = new XMLHttpRequest();

    xhr.open("GET", "https://ci-swapi.herokuapp.com/api/");
    xhr.send();

    xhr.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            cb(JSON.parse(this.responseText));
        }
    };
}

function printDataToConsole(data) {
    console.log(data);
}

getData(printDataToConsole);
</pre
    >

    <h2>Getting The Data Onto The Page</h2>
    <p>We'll just set the innerHTML for now</p>

    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/LdWKFAH1v7s"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

    <a
      href="https://github.com/Code-Institute-Solutions/WorkingWithExternalResources/blob/master/03-DataAndTheDOM/01-getting_the_data_onto_the_page/main.js"
      >CODE
    </a>

    <pre>
const baseURL = "https://ci-swapi.herokuapp.com/api/";

function getData(type, cb) {
    var xhr = new XMLHttpRequest();

    xhr.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            cb(JSON.parse(this.responseText));
        }
    };

    xhr.open("GET", baseURL + type + "/");
    xhr.send();
}

function writeToDocument(type) {
    getData(type, function(data) {
        document.getElementById("data").innerHTML = data;
    });
}</pre
    >

    <h2>Unpacking Our Data Onto The DOM</h2>
    <p>
      Allows us to present our data to our users By combining our knowledge of
      JSON and the DOM
    </p>
    <pre><iframe width="1007" height="566" src="https://www.youtube.com/embed/f009HX2pHTU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></pre>

    <h2>Tabular Data - Part One</h2>
    <p>display the data nicely and neatly in a table format.</p>

    <p>
      Creates an array comprised of the keys in an object By passing an object
      to Object.keys()
    </p>

    <iframe
      width="1007"
      height="566"
      src="https://www.youtube.com/embed/blA_nbmOYkI"
      frameborder="0"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>

<h3>code</h3>
<pre>const baseURL = "https://ci-swapi.herokuapp.com/api/";

function getData(type, cb) {
    var xhr = new XMLHttpRequest();

    xhr.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            cb(JSON.parse(this.responseText));
        }
    };

    xhr.open("GET", baseURL + type + "/");
    xhr.send();
}

function getTableHeaders(obj) {
    var tableHeaders = [];

    Object.keys(obj).forEach(function(key) {
        tableHeaders.push(`<td>${key}</td>`)
    });

    return `<tr>${tableHeaders}</tr>`;
}

function writeToDocument(type) {
    var el = document.getElementById("data");
    el.innerHTML = "";

    getData(type, function(data) {
        data = data.results;
        var tableHeaders = getTableHeaders(data[0]);

        data.forEach(function(item) {
            // el.innerHTML += "<p>" + item.name + "</p>";
        });

        el.innerHTML = `<table>${tableHeaders}</table>`;
    });
}
© 2020 GitHub, Inc.</pre>

<a href="https://github.com/Code-Institute-Solutions/WorkingWithExternalResources/blob/master/03-DataAndTheDOM/03-tabular_data_part_one/main.js">CODE</a>







  </body>
</html>
